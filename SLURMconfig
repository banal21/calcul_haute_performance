SLURM INSTALL : 

root@Master:~# apt-get install slurm-llnl

SLURM CONF: 

#
# slurm.conf file generated by configurator.html.
#
# See the slurm.conf man page for more information.
#
ClusterName=HPC
ControlMachine=Master
ControlAddr=192.168.43.187
#
SlurmUser=slurm
SlurmctldPort=6817
SlurmdPort=6818
AuthType=auth/munge
StateSaveLocation=/tmp
SlurmdSpoolDir=/var/spool/slurm/slurmd
SwitchType=switch/none
MpiDefault=none
SlurmctldPidFile=/var/run/slurmctld.pid
SlurmdPidFile=/var/run/slurmd.pid
ProctrackType=proctrack/pgid
CacheGroups=0
ReturnToService=1
#
# TIMERS
SlurmctldTimeout=300
SlurmdTimeout=300
InactiveLimit=0
MinJobAge=300
KillWait=30
Waittime=0
#
# SCHEDULING
SchedulerType=sched/backfill
SelectType=select/linear
FastSchedule=1
SchedulerPort=7321
#
# LOGGING
SlurmctldDebug=3
SlurmdDebug=3
JobCompType=jobcomp/none
JobCompLoc=/tmp/slurm_job_completion.txt
#
# ACCOUNTING
JobAcctGatherType=jobacct_gather/linux
JobAcctGatherFrequency=30
#
#AccountingStorageType=accounting_storage/slurmdbd
#AccountingStorageHost=slurm
#AccountingStorageLoc=/tmp/slurm_job_accounting.txt
#AccountingStoragePass=
#AccountingStorageUser=
#
# LOGS
SlurmctldDebug=3
SlurmctldLogFile=/var/log/slurm/slurmctld.log
SlurmdDebug=3
SlurmdLogFile=/var/log/slurm/slurmd.log
# COMPUTE NODES
# control node
NodeName=Master NodeAddr=192.168.43.187 Port=17000 State=UNKNOWN

# each logical node is on the same physical node, so we need different ports for them
# name guane-[*] is arbitrary
NodeName=slurm1 NodeAddr=10.20.96.84 Port=17002 State=UNKNOWN
NodeName=slurm2 NodeAddr=10.20.96.129 Port=17003 State=UNKNOWN

# PARTITIONS
# partition name is arbitrary
PartitionName=babe Nodes=slurm[1-2] Default=YES MaxTime=INFINITE State=UP



MUNGE INSTALL 

root@Master:~# apt-get install libmunge-dev libmunge2 munge

CREATION KEY : 

root@Master:# /usr/sbin/create-munge-key 

COPIER LA CLE SUR LES AUTRES NODE(ici ce sont nos conteneur LXD) :

root@Master:/etc/munge# scp munge.key root@10.20.96.84:/etc/munge/munge.key


